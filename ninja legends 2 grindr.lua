local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local teleporting = false
local originalPosition = nil
local teleportIndex = 1
local toggleKey = Enum.KeyCode.G

-- Define 5 teleport locations
local teleportLocations = {
	Vector3.new(-170.615616, 5557.97363, 24.6638641, -0.583967447, 0.249670923, -0.772428989, 0.810040772, 0.117019773, -0.574578464, -0.053066045, -0.961234033, -0.270579338),
	Vector3.new(105.127754, 6115.12256, 441.853363, 0.120643795, -0.624418736, -0.771716475, 0.986503243, -0.0112848282, 0.163352668, -0.11070919, -0.781008244, 0.614629626),
    Vector3.new(178.502365, 1206.56299, -120.18811, -0.598467588, -0.618683457, 0.508986712, 0.799796104, -0.424504042, 0.424408674, -0.046507746, 0.66108036, 0.748872399),
	Vector3.new(-104.858818, 6339.28857, -226.215668, 0.101066709, -0.0587755144, -0.993142009, 0.994750142, 0.0220769644, 0.0999238491, 0.0160524845, -0.998027086, 0.0606982112),
	Vector3.new(-250.013977, 255.537216, 370.8284, -0.756613493, 0.117593512, -0.643201232, 0.188065186, -0.902990699, -0.386315286, -0.626232862, -0.413255095, 0.661099553),
    Vector3.new(650.920898, 6437.95215, 484.340973, 0.595458984, 0.0667270645, -0.800609827, 0.0331715122, -0.997737169, -0.0584851503, -0.802700639, 0.00826806761, -0.59632504),
	Vector3.new(414.763947, 6416.6792, 305.332458, 0.629601181, -0.0112678856, -0.776836932, -0.301417112, -0.925120354, -0.230870247, -0.716065824, 0.379508078, -0.585853338),
    Vector3.new(273.917725, 6385.16602, 203.884796, 0.20469898, -0.595463634, -0.776866436, -0.972429991, -0.0331377983, -0.230828851, 0.111706585, 0.802698612, -0.585829973),
	Vector3.new(-114.358917, 6338.61816, 360.689514, -0.0269964933, -0.916488349, -0.399149299, 0.998459756, -0.0053614378, -0.0552206039, 0.0484690219, -0.400025308, 0.915221572),
	Vector3.new(112.344269, 5838.48584, -37.5706863, -0.211364508, -0.461885333, -0.861386657, 0.951959372, -0.29707551, -0.0742937028, -0.221581668, -0.835708141, 0.502487242),
    Vector3.new(322.347443, 261.054443, 241.277344, -0.562264323, 0.423431188, 0.710327387, -0.766662478, -0.588885427, -0.25581789, 0.309980154, -0.688418567, 0.655737936),
	Vector3.new(38.2160568, 5467.62598, 186.427032, -0.0965559483, -0.169037998, -0.980868578, 0.991024315, 0.0752111673, -0.110517204, 0.0924538672, -0.982735693, 0.160258651),
	Vector3.new(15.4698172, 7267.01758, 214.550507, -0.0965559483, -0.169037998, -0.980868578, 0.991024315, 0.0752111673, -0.110517204, 0.0924538672, -0.982735693, 0.160258651),
    Vector3.new(208.614059, 7454.07422, 71.4326172, -0.98487258, -0.0113973171, 0.172905415, 0.113519989, 0.711448908, 0.693508327, -0.13091749, 0.702645481, -0.699392796),
	Vector3.new(-211.026566, 475.629486, 112.940796, -0.43318069, -0.0605724156, -0.899269462, 0.857288957, -0.335685015, -0.39034763, -0.278226942, -0.940024853, 0.19734025),
	Vector3.new(-101.17646, 4239.15332, -110.007835, 0.100995243, -0.350287557, 0.931181312, 0.994757414, 0.0204529762, -0.100196749, 0.0160522461, 0.936418891, 0.350516737),
    Vector3.new(68.2799072, 4469.71045, -15.5335712, 0.0752927065, 0.766566813, -0.637735307, 0.995151699, -0.0171804428, 0.0968391895, 0.063277185, -0.641934693, -0.764143944),
	Vector3.new(48.9705811, 1531.4469, 358.494385, 0.385688186, -0.21333313, -0.897626638, 0.919001222, 0.175023079, 0.353275687, 0.0817399323, -0.96117425, 0.263557732),
    Vector3.new(-124.708229, 6942.12695, 160.733017, -0.632049799, -0.0106526315, 0.774854541, 0.774912119, -0.0150347948, 0.631890178, 0.00491845608, 0.999830246, 0.017757535),
	Vector3.new(38.3950653, 2177.63965, 237.28125, 0.126121879, 0.991762757, 0.0223596711, 0.988651276, -0.127516866, 0.0794234723, 0.0816204771, 0.0120888837, -0.996590137),
	Vector3.new(-79.179306, 4103.80957, 228.457199, 0.063144207, -0.872757554, 0.484052777, 0.993506789, 0.00897604227, -0.113417998, 0.0946415514, 0.488071442, 0.867657304),
    Vector3.new(125.013252, 360.204254, 139.087784, -0.35116744, -0.170589358, 0.920641422, -0.922968149, -0.102345824, -0.371019036, 0.157515675, -0.980012536, -0.121508002),
	Vector3.new(230.272247, 294.020477, 155.974167, -0.432772756, -0.285270363, 0.855177581, -0.521415591, -0.694637179, -0.49558568, 0.735413969, -0.660378814, 0.151875496),
	Vector3.new(156.85463, 4329.24219, 208.085464, -0.145191908, 0.989031672, -0.0271234214, 0.724861741, 0.124990046, 0.67746067, 0.673420191, 0.0787010789, -0.735058784),
    Vector3.new(-265.843597, 4741.125, 119.973984, 0.10108161, 0.162305236, 0.981549561, 0.994748354, -0.0324246883, -0.097079277, 0.0160698891, 0.986207724, -0.16473043),
	Vector3.new(82.3815155, 7914.51416, 469.976837, 0.120643795, -0.624418736, -0.771716475, 0.986503243, -0.0112848282, 0.163352668, -0.11070919, -0.781008244, 0.614629626),
	Vector3.new(123.387253, 6311.70117, -227.266037, 0.290128052, -0.912982464, -0.286860108, 0.877576232, 0.134264529, 0.460253209, -0.381687999, -0.385273963, 0.840165615),
    Vector3.new(27.539402, 3634.89697, 225.987778, 0.0207599401, 0.24519527, 0.969251454, 0.999610901, -0.0231592655, -0.0155515373, 0.0186339617, 0.969197154, -0.245580673),
	Vector3.new(0.32512185, 2221.44629, -47.2115898, 0.0465211272, 0.94217813, -0.331867665, 0.991436839, -0.00296783447, 0.130553663, 0.12201988, -0.335099339, -0.934248209),
    Vector3.new(89.5980301, 7637.87744, -9.44720078, -0.211364508, -0.461885333, -0.861386657, 0.951959372, -0.29707551, -0.0742937028, -0.221581668, -0.835708141, 0.502487242),
	Vector3.new(58.739151, 2832.94141, 54.6970482, -0.13443172, 0.990598679, -0.0253436007, 0.982348204, 0.136582196, 0.127817258, 0.130077094, -0.00771354511, -0.991473794),
	Vector3.new(-240.135406, 657.133057, 86.6812286, 0.16553992, 0.931781948, 0.323077261, 0.94815129, -0.0602486134, -0.312056512, -0.271303713, 0.357983917, -0.893443823),
    Vector3.new(-30.2658958, 668.504944, 114.243805, -0.190492749, -0.576532722, 0.794558048, -0.98146677, 0.0946427584, -0.166630507, 0.0208687484, -0.811574221, -0.583876491),
	Vector3.new(-43.1349525, 2669.01392, -8.85789871, -0.396844387, 0.809109867, 0.433423668, 0.845751464, 0.505813718, -0.169873714, -0.356678158, 0.299155265, -0.885035157),
	Vector3.new(-30.9704208, 2039.41797, 63.6513062, -0.144330263, -0.849876106, 0.506832778, -0.972449005, 0.0270653367, -0.231539175, 0.183062017, -0.526287138, -0.830367565),
    Vector3.new(148.491409, 966.865906, 122.881798, -0.0697724819, 0.825211644, -0.560497701, 0.976294756, -0.0589158535, -0.208272889, -0.204891384, -0.561742663, -0.801539183),
	Vector3.new(-255.468842, 2849.40039, 63.0333405, 0.0768657923, 0.813261211, 0.576799929, 0.994563878, -0.0217829943, -0.101825446, -0.0702462792, 0.581491232, -0.810514688),
	Vector3.new(-106.93248, 1006.22699, 317.461121, 0.126131535, 0.939592481, -0.318209052, 0.988649011, -0.0926645994, 0.118265241, 0.081634447, -0.329514027, -0.940615058),
    Vector3.new(-30.4609585, 3679.01831, -45.1268959, 0.0768657923, 0.813261211, 0.576799929, 0.994563878, -0.0217829943, -0.101825446, -0.0702462792, 0.581491232, -0.810514688),
	Vector3.new(-147.700684, 6049.61084, -20.6163502, -0.00441932678, 0.896784842, 0.442445129, 0.980603755, -0.0828132629, 0.177647203, 0.195951611, 0.434648365, -0.879024625),
    Vector3.new(-137.105164, 8138.00977, 388.812988, -0.0269964933, -0.916488349, -0.399149299, 0.998459756, -0.0053614378, -0.0552206039, 0.0484690219, -0.400025308, 0.915221572),
	Vector3.new(-286.559845, 1355.73267, 87.2839203, 0.156494975, 0.979626238, 0.125864163, 0.94344002, -0.185978532, 0.274468631, 0.292284667, 0.0757923201, -0.953323364),
	Vector3.new(-157.176575, 1544.39185, -187.913361, -0.227144241, 0.317784667, 0.920553327, 0.969703555, 0.161056042, 0.18367365, -0.0898920298, 0.934384227, -0.344739914),
    Vector3.new(139.429779, 1323.89209, 143.368179, -0.11406064, 0.809628427, 0.57575345, 0.984907687, 0.168091834, -0.0412551463, -0.130180806, 0.562358379, -0.816581964),
	Vector3.new(-102.805595, 1906.82996, 90.9423828, -0.11406064, 0.809628427, 0.57575345, 0.984907687, 0.168091834, -0.0412551463, -0.130180806, 0.562358379, -0.816581964),
	Vector3.new(-129.810883, 2459.25562, 155.39772, -0.296861291, 0.43082431, 0.852211058, -0.94947648, -0.228329182, -0.21531409, 0.101822138, -0.873072803, 0.476839662),
    Vector3.new(278.047516, 4647.70654, 8.54490948, -0.0635967255, 0.926605821, -0.37061733, 0.993580461, 0.0239726305, -0.110559449, -0.0935603231, -0.375269353, -0.922181964),
	Vector3.new(-270.060028, 8033.36963, -40.5658569, 0.536706626, -0.373104632, -0.756795168, 0.843686879, 0.249809265, 0.475171208, 0.0117658675, -0.89352572, 0.448857784),
	Vector3.new(-205.219315, 3792.04517, 48.0820236, 0.440033138, 0.671579063, -0.596114457, 0.766542971, 0.0648602247, 0.63890934, 0.467742264, -0.738088608, -0.4862535),
    Vector3.new(-101.96199, 5142.73535, 132.609528, -0.632049799, -0.0106526315, 0.774854541, 0.774912119, -0.0150347948, 0.631890178, 0.00491845608, 0.999830246, 0.017757535),
	Vector3.new(230.546326, 4690.95459, 264.029572, 0.100995898, 0.631297112, 0.768936753, 0.994757771, -0.0765223503, -0.0678313375, 0.0160191953, 0.77175653, -0.6357162),
    Vector3.new(-193.361862, 7357.36523, 52.7873459, -0.583967447, 0.249670923, -0.772428989, 0.810040772, 0.117019773, -0.574578464, -0.053066045, -0.961234033, -0.270579338),
	Vector3.new(100.641014, 8111.09277, -199.142548, 0.290128052, -0.912982464, -0.286860108, 0.877576232, 0.134264529, 0.460253209, -0.381687999, -0.385273963, 0.840165615),
	Vector3.new(-170.446915, 7849.00244, 7.50712967, -0.00441932678, 0.896784842, 0.442445129, 0.980603755, -0.0828132629, 0.177647203, 0.195951611, 0.434648365, -0.879024625),
    Vector3.new(231.360291, 5654.68262, 43.3091278, -0.98487258, -0.0113973171, 0.172905415, 0.113519989, 0.711448908, 0.693508327, -0.13091749, 0.702645481, -0.699392796),
	Vector3.new(-247.313782, 6233.97803, -68.6893463, 0.536706626, -0.373104632, -0.756795168, 0.843686879, 0.249809265, 0.475171208, 0.0117658675, -0.89352572, 0.448857784)
}

-- Toggle teleporting on key press
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == toggleKey then
		teleporting = not teleporting

		local character = player.Character or player.CharacterAdded:Wait()
		local hrp = character:WaitForChild("HumanoidRootPart")

		if teleporting then
			originalPosition = hrp.Position
		else
			if hrp and originalPosition then
				hrp.CFrame = CFrame.new(originalPosition)
			end
			teleportIndex = 1 -- Reset index for clean restart
		end
	end
end)

-- Teleport loop cycling through 5 locations
task.spawn(function()
	while true do
		task.wait(0) -- Speed of teleportation (0.1s = 10 teleports/second)
		if teleporting then
			local character = player.Character or player.CharacterAdded:Wait()
			local hrp = character:FindFirstChild("HumanoidRootPart")
			if hrp then
				local targetPosition = teleportLocations[teleportIndex]
				hrp.CFrame = CFrame.new(targetPosition)

				-- Move to next location, loop back to 1
				teleportIndex += 1
				if teleportIndex > #teleportLocations then
					teleportIndex = 1
				end
			end
		end
	end
end)
